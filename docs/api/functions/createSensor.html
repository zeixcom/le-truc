<section class="api-content">
<h1 id="function-createsensor"><a name="function-createsensor" class="anchor" href="#function-createsensor"><span class="title">Function: createSensor()</span><span class="permalink">#</span></a></h1><blockquote><p><strong>createSensor</strong>&lt;<code>T</code>&gt;(<code>watched</code>, <code>options?</code>): <a href="#type-aliases/Sensor"><code>Sensor</code></a>&lt;<code>T</code>&gt;</p></blockquote><p>Defined in: node_modules/@zeix/cause-effect/types/src/nodes/sensor.d.ts:72</p><p>Creates a sensor that tracks external input and updates a state value as long as it is active. Sensors get activated when they are first accessed by an effect and deactivated when they are no longer watched. This lazy activation pattern ensures resources are only consumed when needed.</p><h2 id="type-parameters"><a name="type-parameters" class="anchor" href="#type-parameters"><span class="title">Type Parameters</span><span class="permalink">#</span></a></h2><h3 id="t"><a name="t" class="anchor" href="#t"><span class="title">T</span><span class="permalink">#</span></a></h3><p><code>T</code> <em>extends</em> <code>object</code></p><p>The type of value produced by the sensor</p><h2 id="parameters"><a name="parameters" class="anchor" href="#parameters"><span class="title">Parameters</span><span class="permalink">#</span></a></h2><h3 id="watched"><a name="watched" class="anchor" href="#watched"><span class="title">watched</span><span class="permalink">#</span></a></h3><p><code>SensorCallback</code>&lt;<code>T</code>&gt;</p><p>The callback invoked when the sensor starts being watched, receives a <code>set</code> function and returns a cleanup function.</p><h3 id="options"><a name="options" class="anchor" href="#options"><span class="title">options?</span><span class="permalink">#</span></a></h3><p><a href="#type-aliases/SensorOptions"><code>SensorOptions</code></a>&lt;<code>T</code>&gt;</p><p>Optional configuration for the sensor.</p><h2 id="returns"><a name="returns" class="anchor" href="#returns"><span class="title">Returns</span><span class="permalink">#</span></a></h2><p><a href="#type-aliases/Sensor"><code>Sensor</code></a>&lt;<code>T</code>&gt;</p><p>A read-only sensor signal.</p><h2 id="since"><a name="since" class="anchor" href="#since"><span class="title">Since</span><span class="permalink">#</span></a></h2><p>0.18.0</p><h2 id="examples"><a name="examples" class="anchor" href="#examples"><span class="title">Examples</span><span class="permalink">#</span></a></h2><module-codeblock language="ts" copy-success="Copied!" copy-error="Error trying to copy to clipboard!"><p class="meta"><span class="language">ts</span></p><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#66D9EF;font-style:italic">const</span><span style="color:#F8F8F2"> mousePos </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> createSensor</span><span style="color:#F8F8F2">&#x3C;{ x</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> number</span><span style="color:#F8F8F2">; y</span><span style="color:#F92672">:</span><span style="color:#66D9EF;font-style:italic"> number</span><span style="color:#F8F8F2"> }>((</span><span style="color:#FD971F;font-style:italic">set</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  const</span><span style="color:#A6E22E"> handler</span><span style="color:#F92672"> =</span><span style="color:#F8F8F2"> (</span><span style="color:#FD971F;font-style:italic">e</span><span style="color:#F92672">:</span><span> </span><span style="color:#A6E22E;text-decoration:underline">MouseEvent</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#A6E22E">    set</span><span style="color:#F8F8F2">({ x: e.clientX, y: e.clientY });</span></span>
<span class="line"><span style="color:#F8F8F2">  };</span></span>
<span class="line"><span style="color:#F8F8F2">  window.</span><span style="color:#A6E22E">addEventListener</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'mousemove'</span><span style="color:#F8F8F2">, handler);</span></span>
<span class="line"><span style="color:#F92672">  return</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> window.</span><span style="color:#A6E22E">removeEventListener</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'mousemove'</span><span style="color:#F8F8F2">, handler);</span></span>
<span class="line"><span style="color:#F8F8F2">});</span></span>
<span class="line"></span></code></pre><basic-button class="copy" copy-success="Copied!" copy-error="Error trying to copy to clipboard!"><button type="button" class="secondary small"><span class="label">Copy</span></button></basic-button></module-codeblock><module-codeblock language="ts" copy-success="Copied!" copy-error="Error trying to copy to clipboard!"><p class="meta"><span class="language">ts</span></p><pre class="shiki monokai" style="background-color:#272822;color:#F8F8F2" tabindex="0"><code><span class="line"><span style="color:#F92672">import</span><span style="color:#F8F8F2"> { createSensor, SKIP_EQUALITY } </span><span style="color:#F92672">from</span><span style="color:#E6DB74"> 'cause-effect'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">const</span><span style="color:#F8F8F2"> el </span><span style="color:#F92672">=</span><span style="color:#A6E22E"> createSensor</span><span style="color:#F8F8F2">&#x3C;</span><span style="color:#A6E22E;text-decoration:underline">HTMLElement</span><span style="color:#F8F8F2">>((</span><span style="color:#FD971F;font-style:italic">set</span><span style="color:#F8F8F2">) </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  const</span><span style="color:#F8F8F2"> node </span><span style="color:#F92672">=</span><span style="color:#F8F8F2"> document.</span><span style="color:#A6E22E">getElementById</span><span style="color:#F8F8F2">(</span><span style="color:#E6DB74">'box'</span><span style="color:#F8F8F2">)</span><span style="color:#F92672">!</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#A6E22E">  set</span><span style="color:#F8F8F2">(node);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic">  const</span><span style="color:#F8F8F2"> obs </span><span style="color:#F92672">=</span><span style="color:#F92672"> new</span><span style="color:#A6E22E"> MutationObserver</span><span style="color:#F8F8F2">(() </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#A6E22E"> set</span><span style="color:#F8F8F2">(node));</span></span>
<span class="line"><span style="color:#F8F8F2">  obs.</span><span style="color:#A6E22E">observe</span><span style="color:#F8F8F2">(node, { attributes: </span><span style="color:#AE81FF">true</span><span style="color:#F8F8F2"> });</span></span>
<span class="line"><span style="color:#F92672">  return</span><span style="color:#F8F8F2"> () </span><span style="color:#66D9EF;font-style:italic">=></span><span style="color:#F8F8F2"> obs.</span><span style="color:#A6E22E">disconnect</span><span style="color:#F8F8F2">();</span></span>
<span class="line"><span style="color:#F8F8F2">}, { value: node, equals: SKIP_EQUALITY });</span></span>
<span class="line"></span></code></pre><basic-button class="copy" copy-success="Copied!" copy-error="Error trying to copy to clipboard!"><button type="button" class="secondary small"><span class="label">Copy</span></button></basic-button></module-codeblock>
</section>