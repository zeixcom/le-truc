<h3 id="form-combobox"><a name="form-combobox" class="anchor" href="#form-combobox"><span class="title">Form Combobox</span><span class="permalink">#</span></a></h3><p>An advanced form component that coordinates a text input with a popup <code>form-listbox</code>. Demonstrates multiple Le Truc concepts together: <code>createEventsSensor()</code> for the read-only <code>length</code> property, <code>createState()</code> and <code>createMemo()</code> for private reactive state inside the setup function, <code>pass()</code> to push the filter value into the child listbox reactively, multiple effects per UI element, and <code>setAttribute()</code> for dynamic ARIA attributes (<code>aria-errormessage</code>, <code>aria-describedby</code>, <code>aria-expanded</code>). The <code>clear</code> method property shows the MethodProducer pattern for exposing imperative actions as reactive properties.</p><h4 id="preview"><a name="preview" class="anchor" href="#preview"><span class="title">Preview</span><span class="permalink">#</span></a></h4><module-demo><div class="preview"><form-combobox clearable><label for="timezone-input" id="timezone-label">Choose a timezone</label><div class="input"><input id="timezone-input" type="text" name="timezone" role="combobox" aria-expanded="false" aria-controls="timezone-popup" aria-autocomplete="list" autocomplete="off" required /><form-listbox id="timezone-popup" src="/test/form-listbox/mocks/timezones.json" ><input type="hidden" name="timezone-listbox" /><card-callout><p class="loading" role="status">Loading...</p><p class="error" role="alert" aria-live="assertive" hidden></p></card-callout><module-scrollarea><div role="listbox" aria-labelledby="timezone-label" hidden></div></module-scrollarea></form-listbox><button type="button" class="clear" aria-label="Clear input" hidden> âœ• </button></div><p class="error" role="alert" aria-live="assertive" id="timezone-error"></p><p class="description" aria-live="polite" id="timezone-description"> Tell us where you live so we can set your timezone for our calendar and notification features. </p>
</form-combobox><hr /><form><form-combobox><label for="color-input" id="color-label" >What is your favorite color?</label ><div class="input"><input id="color-input" type="text" name="color" role="combobox" aria-expanded="false" aria-controls="color-popup" aria-autocomplete="list" autocomplete="off" /><form-listbox id="color-popup"><input type="hidden" name="color-listbox" /><div role="listbox" aria-labelledby="color-label"><button type="button" role="option" tabindex="-1" value="Red"> Red </button><button type="button" role="option" tabindex="-1" value="Green"> Green </button><button type="button" role="option" tabindex="-1" value="Blue"> Blue </button><button type="button" role="option" tabindex="-1" value="Yellow"> Yellow </button><button type="button" role="option" tabindex="-1" value="Purple"> Purple </button></div></form-listbox></div></form-combobox>
</form></div><details title="Source code" src="./sources/form-combobox.html"><summary>Source code</summary><module-lazyload src="./sources/form-combobox.html"><card-callout><p class="loading" role="status" aria-live="polite">Loading...</p><p class="error" role="alert" aria-live="assertive" hidden="true"></p></card-callout><div class="content"></div></module-lazyload></details></module-demo><h4 id="tag-name"><a name="tag-name" class="anchor" href="#tag-name"><span class="title">Tag Name</span><span class="permalink">#</span></a></h4><p><code>form-combobox</code></p><h4 id="reactive-properties"><a name="reactive-properties" class="anchor" href="#reactive-properties"><span class="title">Reactive Properties</span><span class="permalink">#</span></a></h4><module-scrollarea orientation="horizontal"><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>value</code></td><td><code>string</code></td><td><code>''</code></td><td>Current input value</td></tr><tr><td><code>length</code></td><td><code>number</code> (readonly)</td><td><code>0</code></td><td>Length of current input value</td></tr><tr><td><code>error</code></td><td><code>string</code></td><td><code>''</code></td><td>Validation error text shown in <code>.error</code></td></tr><tr><td><code>description</code></td><td><code>string</code></td><td>Text content of <code>.description</code></td><td>Assistive/help text shown in <code>.description</code></td></tr></tbody></table></module-scrollarea><h4 id="methods"><a name="methods" class="anchor" href="#methods"><span class="title">Methods</span><span class="permalink">#</span></a></h4><module-scrollarea orientation="horizontal"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>clear</code></td><td><code>() =&gt; void</code></td><td>Method to clear the textbox and emit input/change events</td></tr></tbody></table></module-scrollarea><h4 id="descendant-elements"><a name="descendant-elements" class="anchor" href="#descendant-elements"><span class="title">Descendant Elements</span><span class="permalink">#</span></a></h4><module-scrollarea orientation="horizontal"><table><thead><tr><th>Selector</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>first('input')</code></td><td><code>HTMLInputElement</code></td><td><strong>required</strong></td><td>Textbox for combobox input</td></tr><tr><td><code>first('form-listbox')</code></td><td><code>Component&lt;FormListboxProps&gt;</code></td><td><strong>required</strong></td><td>Popup listbox used for option filtering/selection</td></tr><tr><td><code>first('button.clear')</code></td><td><code>HTMLButtonElement</code></td><td>optional</td><td>Clear action button; hidden when value is empty</td></tr><tr><td><code>first('form-combobox &gt; .error')</code></td><td><code>HTMLElement</code></td><td>optional</td><td>Validation message target linked by <code>aria-errormessage</code></td></tr><tr><td><code>first('.description')</code></td><td><code>HTMLElement</code></td><td>optional</td><td>Description target linked by <code>aria-describedby</code></td></tr></tbody></table></module-scrollarea>