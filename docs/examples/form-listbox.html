<h3 id="form-listbox"><a name="form-listbox" class="anchor" href="#form-listbox"><span class="title">Form Listbox</span><span class="permalink">#</span></a></h3><p>A form-aware listbox component with keyboard focus management, optional filtering, and support for inline or remote options.</p><h4 id="preview"><a name="preview" class="anchor" href="#preview"><span class="title">Preview</span><span class="permalink">#</span></a></h4><module-demo><div class="preview"><form><form-listbox id="timezone" src="/test/form-listbox/mocks/timezones.json"><input type="hidden" name="timezone" /><card-callout><p class="loading" role="status">Loading...</p><p class="error" role="alert" aria-live="assertive" hidden></p></card-callout><module-scrollarea orientation="vertical"><div role="listbox" aria-label="Timezones" hidden></div></module-scrollarea></form-listbox>
</form><hr /><!-- Declarative inline HTML example -->
<form><form-listbox id="colors"><input type="hidden" name="color" /><div role="listbox" aria-label="Colors"><button type="button" role="option" tabindex="-1" value="red">Red</button><button type="button" role="option" tabindex="-1" value="green"> Green </button><button type="button" role="option" tabindex="-1" value="blue"> Blue </button><button type="button" role="option" tabindex="-1" value="yellow"> Yellow </button><button type="button" role="option" tabindex="-1" value="purple"> Purple </button></div></form-listbox>
</form><hr /><!-- Declarative inline HTML example with groups and filter -->
<form><form-listbox id="fruits"><input type="hidden" name="fruit" /><label for="fruits-filter" class="visually-hidden">Filter fruits</label><div class="input"><input type="text" id="fruits-filter" class="filter" placeholder="Filter fruits" /><button type="button" class="clear" aria-label="Clear filter">âœ•</button></div><div role="listbox" aria-label="Fruits"><div role="group" aria-labelledby="fruits-citrus"><div role="presentation" id="fruits-citrus">Citrus</div><button type="button" role="option" tabindex="-1" value="orange"> Orange </button><button type="button" role="option" tabindex="-1" value="lemon"> Lemon </button><button type="button" role="option" tabindex="-1" value="lime"> Lime </button></div><div role="group" aria-labelledby="fruits-berries"><div role="presentation" id="fruits-berries">Berries</div><button type="button" role="option" tabindex="-1" value="strawberry"> Strawberry </button><button type="button" role="option" tabindex="-1" value="blueberry"> Blueberry </button><button type="button" role="option" tabindex="-1" value="raspberry"> Raspberry </button></div></div></form-listbox>
</form></div><details title="Source code" src="./sources/form-listbox.html"><summary>Source code</summary><module-lazyload src="./sources/form-listbox.html"><card-callout><p class="loading" role="status" aria-live="polite">Loading...</p><p class="error" role="alert" aria-live="assertive" hidden="true"></p></card-callout><div class="content"></div></module-lazyload></details></module-demo><h4 id="tag-name"><a name="tag-name" class="anchor" href="#tag-name"><span class="title">Tag Name</span><span class="permalink">#</span></a></h4><p><code>form-listbox</code></p><h4 id="reactive-properties"><a name="reactive-properties" class="anchor" href="#reactive-properties"><span class="title">Reactive Properties</span><span class="permalink">#</span></a></h4><module-scrollarea orientation="horizontal"><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>value</code></td><td><code>string</code></td><td><code>''</code></td><td>Selected option value (<code>button[role=&quot;option&quot;][aria-selected=&quot;true&quot;]</code>)</td></tr><tr><td><code>options</code></td><td><code>HTMLButtonElement[]</code></td><td>Visible <code>button[role=&quot;option&quot;]</code> elements</td><td>Live collection of selectable options</td></tr><tr><td><code>filter</code></td><td><code>string</code></td><td><code>''</code></td><td>Filter text used to hide/show options</td></tr><tr><td><code>src</code></td><td><code>string</code></td><td><code>''</code></td><td>URL for loading options JSON (flat or grouped)</td></tr></tbody></table></module-scrollarea><h4 id="descendant-elements"><a name="descendant-elements" class="anchor" href="#descendant-elements"><span class="title">Descendant Elements</span><span class="permalink">#</span></a></h4><module-scrollarea orientation="horizontal"><table><thead><tr><th>Selector</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>first('input[type=&quot;hidden&quot;]')</code></td><td><code>HTMLInputElement</code></td><td><strong>required</strong></td><td>Hidden form input synchronized with selected <code>value</code></td></tr><tr><td><code>first('[role=&quot;listbox&quot;]')</code></td><td><code>HTMLElement</code></td><td><strong>required</strong></td><td>Container for option buttons</td></tr><tr><td><code>first('input.filter')</code></td><td><code>HTMLInputElement</code></td><td>optional</td><td>Text input for client-side filtering</td></tr><tr><td><code>first('button.clear')</code></td><td><code>HTMLButtonElement</code></td><td>optional</td><td>Clears current filter text</td></tr><tr><td><code>first('card-callout')</code></td><td><code>HTMLElement</code></td><td>optional</td><td>Callout container for loading/error states when <code>src</code> is used</td></tr><tr><td><code>first('.loading')</code></td><td><code>HTMLElement</code></td><td>optional</td><td>Loading state element</td></tr><tr><td><code>first('.error')</code></td><td><code>HTMLElement</code></td><td>optional</td><td>Error message element</td></tr><tr><td><code>all('button[role=&quot;option&quot;]')</code></td><td><code>Memo&lt;HTMLButtonElement[]&gt;</code></td><td>optional</td><td>Option buttons (inline and/or rendered from <code>src</code>)</td></tr></tbody></table></module-scrollarea>