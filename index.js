function x($){return typeof $==="function"}function X$($){return x($)&&$.constructor.name==="AsyncFunction"}function V$($){return x($)&&$.constructor.name!=="AsyncFunction"}function S($,Z){return Object.prototype.toString.call($)===`[object ${Z}]`}function _($){return S($,"Object")}function PZ($,Z=(J)=>J!=null){return Array.isArray($)&&$.every(Z)}function l($){return typeof $==="string"?`"${$}"`:!!$&&typeof $==="object"?JSON.stringify($):String($)}class Q$ extends Error{constructor($){super(`[${$}] Circular dependency detected`);this.name="CircularDependencyError"}}class m$ extends TypeError{constructor($){super(`[${$}] Signal value cannot be null or undefined`);this.name="NullishSignalValueError"}}class H$ extends Error{constructor($){super(`[${$}] Signal value is unset`);this.name="UnsetSignalValueError"}}class C$ extends TypeError{constructor($,Z){super(`[${$}] Signal value ${l(Z)} is invalid`);this.name="InvalidSignalValueError"}}class E$ extends TypeError{constructor($,Z){super(`[${$}] Callback ${l(Z)} is invalid`);this.name="InvalidCallbackError"}}class f$ extends Error{constructor($){super(`[${$}] Signal is read-only`);this.name="ReadonlySignalError"}}class h$ extends Error{constructor($){super(`[${$}] Active owner is required`);this.name="RequiredOwnerError"}}class z$ extends Error{constructor($,Z,J){super(`[${$}] Could not add key "${Z}"${J?` with value ${JSON.stringify(J)}`:""} because it already exists`);this.name="DuplicateKeyError"}}function N($,Z,J){if(Z==null)throw new m$($);if(J&&!J(Z))throw new C$($,Z)}function K$($,Z){if(Z==null)throw new H$($)}function k($,Z,J=x){if(!J(Z))throw new E$($,Z)}var r="State",n="Memo",t="Task",a="Sensor",g="List",e="Collection",$$="Store",Z$="Slot",p=0,g$=1,O=2,w$=4,y=8,D=null,c=null,k$=[],I=0,HZ=!1,u=($,Z)=>$===Z,BZ=($,Z)=>!1;function SZ($,Z){let J=Z.sourcesTail;if(J){let X=Z.sources;while(X){if(X===$)return!0;if(X===J)break;X=X.nextSource}}return!1}function A($,Z){let J=Z.sourcesTail;if(J?.source===$)return;let X=null,B=Z.flags&w$;if(B){if(X=J?J.nextSource:Z.sources,X?.source===$){Z.sourcesTail=X;return}}let H=$.sinksTail;if(H?.sink===Z&&(!B||SZ(H,Z)))return;let M={source:$,sink:Z,nextSource:X,prevSink:H,nextSink:null};if(Z.sourcesTail=$.sinksTail=M,J)J.nextSource=M;else Z.sources=M;if(H)H.nextSink=M;else $.sinks=M}function bZ($){let{source:Z,nextSource:J,nextSink:X,prevSink:B}=$;if(X)X.prevSink=B;else Z.sinksTail=B;if(B)B.nextSink=X;else Z.sinks=X;if(!Z.sinks){if(Z.stop)Z.stop(),Z.stop=void 0;if("sources"in Z&&Z.sources){let H=Z;H.sourcesTail=null,G$(H)}}return J}function G$($){let Z=$.sourcesTail,J=Z?Z.nextSource:$.sources;while(J)J=bZ(J);if(Z)Z.nextSource=null;else $.sources=null}function w($,Z=O){let J=$.flags;if("sinks"in $){if((J&(O|g$))>=Z)return;if($.flags=J|Z,"controller"in $&&$.controller)$.controller.abort(),$.controller=void 0;for(let X=$.sinks;X;X=X.nextSink)w(X.sink,g$)}else{if(J&O)return;$.flags=O,k$.push($)}}function R$($,Z){if($.equals($.value,Z))return;$.value=Z;for(let J=$.sinks;J;J=J.nextSink)w(J.sink);if(I===0)L()}function q$($,Z){if(!$.cleanup)$.cleanup=Z;else if(Array.isArray($.cleanup))$.cleanup.push(Z);else $.cleanup=[$.cleanup,Z]}function p$($){if(!$.cleanup)return;if(Array.isArray($.cleanup))for(let Z=0;Z<$.cleanup.length;Z++)$.cleanup[Z]();else $.cleanup();$.cleanup=null}function yZ($){let Z=D;D=$,$.sourcesTail=null,$.flags=w$;let J=!1;try{let X=$.fn($.value);if($.error||!$.equals(X,$.value))$.value=X,$.error=void 0,J=!0}catch(X){J=!0,$.error=X instanceof Error?X:Error(String(X))}finally{D=Z,G$($)}if(J){for(let X=$.sinks;X;X=X.nextSink)if(X.sink.flags&g$)X.sink.flags|=O}$.flags=p}function mZ($){$.controller?.abort();let Z=new AbortController;$.controller=Z,$.error=void 0;let J=D;D=$,$.sourcesTail=null,$.flags=w$;let X;try{X=$.fn($.value,Z.signal)}catch(B){$.controller=void 0,$.error=B instanceof Error?B:Error(String(B));return}finally{D=J,G$($)}X.then((B)=>{if(Z.signal.aborted)return;if($.controller=void 0,$.error||!$.equals(B,$.value)){$.value=B,$.error=void 0;for(let H=$.sinks;H;H=H.nextSink)w(H.sink);if(I===0)L()}},(B)=>{if(Z.signal.aborted)return;$.controller=void 0;let H=B instanceof Error?B:Error(String(B));if(!$.error||H.name!==$.error.name||H.message!==$.error.message){$.error=H;for(let M=$.sinks;M;M=M.nextSink)w(M.sink);if(I===0)L()}}),$.flags=p}function WZ($){p$($);let Z=D,J=c;D=c=$,$.sourcesTail=null,$.flags=w$;try{let X=$.fn();if(typeof X==="function")q$($,X)}finally{D=Z,c=J,G$($)}$.flags=p}function T($){if($.flags&g$)for(let Z=$.sources;Z;Z=Z.nextSource){if("fn"in Z.source)T(Z.source);if($.flags&O)break}if($.flags&w$)throw new Q$("controller"in $?t:("value"in $)?n:"Effect");if($.flags&O)if("controller"in $)mZ($);else if("value"in $)yZ($);else WZ($);else $.flags=p}function L(){if(HZ)return;HZ=!0;try{for(let $=0;$<k$.length;$++){let Z=k$[$];if(Z.flags&O)T(Z)}k$.length=0}finally{HZ=!1}}function o($){I++;try{$()}finally{if(I--,I===0)L()}}function i($){let Z=D;D=null;try{return $()}finally{D=Z}}function OZ($){let Z=c,J={cleanup:null};c=J;try{let X=$();if(typeof X==="function")q$(J,X);let B=()=>p$(J);if(Z)q$(Z,B);return B}finally{c=Z}}function f($,Z){N(r,$,Z?.guard);let J={value:$,sinks:null,sinksTail:null,equals:Z?.equals??u,guard:Z?.guard};return{[Symbol.toStringTag]:r,get(){if(D)A(J,D);return J.value},set(X){N(r,X,J.guard),R$(J,X)},update(X){k(r,X);let B=X(J.value);N(r,B,J.guard),R$(J,B)}}}function D$($){return S($,r)}function J$($,Z,J){if(Object.is($,Z))return!0;if(typeof $!==typeof Z)return!1;if($==null||typeof $!=="object"||Z==null||typeof Z!=="object")return!1;if(!J)J=new WeakSet;if(J.has($)||J.has(Z))throw new Q$("isEqual");J.add($),J.add(Z);try{let X=Array.isArray($);if(X!==Array.isArray(Z))return!1;if(X){let B=$,H=Z;if(B.length!==H.length)return!1;for(let M=0;M<B.length;M++)if(!J$(B[M],H[M],J))return!1;return!0}if(_($)&&_(Z)){let B=Object.keys($),H=Object.keys(Z);if(B.length!==H.length)return!1;for(let M of B){if(!(M in Z))return!1;if(!J$($[M],Z[M],J))return!1}return!0}return!1}finally{J.delete($),J.delete(Z)}}function v$($,Z){if($.length!==Z.length)return!1;for(let J=0;J<$.length;J++)if($[J]!==Z[J])return!1;return!0}function jZ($){let Z=0,J=typeof $==="function";return[typeof $==="string"?()=>`${$}${Z++}`:J?(X)=>$(X)||String(Z++):()=>String(Z++),J]}function EZ($,Z,J,X,B){let H=new WeakSet,M={},z={},q={},U=[],j=!1,W=new Map;for(let C=0;C<$.length;C++){let Q=J[C];if(Q&&$[C])W.set(Q,$[C])}let K=new Set;for(let C=0;C<Z.length;C++){let Q=Z[C];if(Q===void 0)continue;let V=B?X(Q):J[C]??X(Q);if(K.has(V))throw new z$(g,V,Q);if(U.push(V),K.add(V),!W.has(V))M[V]=Q,j=!0;else if(!J$(W.get(V),Q,H))z[V]=Q,j=!0}for(let[C]of W)if(!K.has(C))q[C]=null,j=!0;if(!j&&!v$(J,U))j=!0;return{add:M,change:z,remove:q,newKeys:U,changed:j}}function P$($,Z){N(g,$,Array.isArray);let J=new Map,X=[],[B,H]=jZ(Z?.keyConfig),M=()=>X.map((Q)=>J.get(Q)?.get()).filter((Q)=>Q!==void 0),z={fn:M,value:$,flags:O,sources:null,sourcesTail:null,sinks:null,sinksTail:null,equals:J$,error:void 0},q=(Q)=>{let V={};for(let G=0;G<Q.length;G++){let P=Q[G];if(P===void 0)continue;let F=X[G];if(!F)F=B(P),X[G]=F;V[F]=P}return V},U=(Q)=>{let V=!1;for(let G in Q.add){let P=Q.add[G];N(`${g} item for key "${G}"`,P),J.set(G,f(P)),V=!0}if(Object.keys(Q.change).length)o(()=>{for(let G in Q.change){let P=Q.change[G];N(`${g} item for key "${G}"`,P);let F=J.get(G);if(F)F.set(P)}});for(let G in Q.remove){J.delete(G);let P=X.indexOf(G);if(P!==-1)X.splice(P,1);V=!0}if(V)z.flags|=y;return Q.changed},j=Z?.watched,W=j?()=>{if(D){if(!z.sinks)z.stop=j();A(z,D)}}:()=>{if(D)A(z,D)},K=q($);for(let Q in K){let V=K[Q];N(`${g} item for key "${Q}"`,V),J.set(Q,f(V))}z.value=$,z.flags=0;let C={[Symbol.toStringTag]:g,[Symbol.isConcatSpreadable]:!0,*[Symbol.iterator](){for(let Q of X){let V=J.get(Q);if(V)yield V}},get length(){return W(),X.length},get(){if(W(),z.sources){if(z.flags){let Q=z.flags&y;if(z.value=i(M),Q){if(z.flags=O,T(z),z.error)throw z.error}else z.flags=p}}else if(T(z),z.error)throw z.error;return z.value},set(Q){let V=z.flags&O?M():z.value,G=EZ(V,Q,X,B,H);if(G.changed){X=G.newKeys,U(G),z.flags|=O;for(let P=z.sinks;P;P=P.nextSink)w(P.sink);if(I===0)L()}},update(Q){C.set(Q(C.get()))},at(Q){return J.get(X[Q])},keys(){return W(),X.values()},byKey(Q){return J.get(Q)},keyAt(Q){return X[Q]},indexOfKey(Q){return X.indexOf(Q)},add(Q){let V=B(Q);if(J.has(V))throw new z$(g,V,Q);if(!X.includes(V))X.push(V);N(`${g} item for key "${V}"`,Q),J.set(V,f(Q)),z.flags|=O|y;for(let G=z.sinks;G;G=G.nextSink)w(G.sink);if(I===0)L();return V},remove(Q){let V=typeof Q==="number"?X[Q]:Q;if(J.delete(V)){let P=typeof Q==="number"?Q:X.indexOf(V);if(P>=0)X.splice(P,1);z.flags|=O|y;for(let F=z.sinks;F;F=F.nextSink)w(F.sink);if(I===0)L()}},sort(Q){let G=X.map((P)=>[P,J.get(P)?.get()]).sort(x(Q)?(P,F)=>Q(P[1],F[1]):(P,F)=>String(P[1]).localeCompare(String(F[1]))).map(([P])=>P);if(!v$(X,G)){X=G,z.flags|=O;for(let P=z.sinks;P;P=P.nextSink)w(P.sink);if(I===0)L()}},splice(Q,V,...G){let P=X.length,F=Q<0?Math.max(0,P+Q):Math.min(Q,P),Y=Math.max(0,Math.min(V??Math.max(0,P-Math.max(0,F)),P-F)),b={},h={};for(let v=0;v<Y;v++){let j$=F+v,XZ=X[j$];if(XZ){let DZ=J.get(XZ);if(DZ)h[XZ]=DZ.get()}}let JZ=X.slice(0,F);for(let v of G){let j$=B(v);if(J.has(j$)&&!(j$ in h))throw new z$(g,j$,v);JZ.push(j$),b[j$]=v}JZ.push(...X.slice(F+Y));let GZ=!!(Object.keys(b).length||Object.keys(h).length);if(GZ){U({add:b,change:{},remove:h,changed:GZ}),X=JZ,z.flags|=O;for(let v=z.sinks;v;v=v.nextSink)w(v.sink);if(I===0)L()}return Object.values(h)},deriveCollection(Q){return d$(C,Q)}};return C}function L$($){return S($,g)}function s($,Z){if(k(n,$,V$),Z?.value!==void 0)N(n,Z.value,Z?.guard);let J={fn:$,value:Z?.value,flags:O,sources:null,sourcesTail:null,sinks:null,sinksTail:null,equals:Z?.equals??u,error:void 0,stop:void 0},X=Z?.watched,B=X?()=>{if(D){if(!J.sinks)J.stop=X(()=>{J.flags|=O;for(let H=J.sinks;H;H=H.nextSink)w(H.sink);if(I===0)L()});A(J,D)}}:()=>{if(D)A(J,D)};return{[Symbol.toStringTag]:n,get(){if(B(),T(J),J.error)throw J.error;return K$(n,J.value),J.value}}}function B$($){return S($,n)}function O$($,Z){if(k(t,$,X$),Z?.value!==void 0)N(t,Z.value,Z?.guard);let J={fn:$,value:Z?.value,sources:null,sourcesTail:null,sinks:null,sinksTail:null,flags:O,equals:Z?.equals??u,controller:void 0,error:void 0,stop:void 0},X=Z?.watched,B=X?()=>{if(D){if(!J.sinks)J.stop=X(()=>{J.flags|=O;for(let H=J.sinks;H;H=H.nextSink)w(H.sink);if(I===0)L()});A(J,D)}}:()=>{if(D)A(J,D)};return{[Symbol.toStringTag]:t,get(){if(B(),T(J),J.error)throw J.error;return K$(t,J.value),J.value},isPending(){return!!J.controller},abort(){J.controller?.abort(),J.controller=void 0}}}function c$($){return S($,t)}function d$($,Z){k(e,Z);let J=X$(Z),X=new Map,B=[],H=(C)=>{let Q=J?O$(async(V,G)=>{let P=$.byKey(C)?.get();if(P==null)return V;return Z(P,G)}):s(()=>{let V=$.byKey(C)?.get();if(V==null)return;return Z(V)});X.set(C,Q)};function M(C){if(!v$(B,C)){let Q=new Set(B),V=new Set(C);for(let G of B)if(!V.has(G))X.delete(G);for(let G of C)if(!Q.has(G))H(G);B=C,U.flags|=y}}function z(){M(Array.from($.keys()));let C=[];for(let Q of B)try{let V=X.get(Q)?.get();if(V!=null)C.push(V)}catch(V){if(!(V instanceof H$))throw V}return C}let U={fn:z,value:[],flags:O,sources:null,sourcesTail:null,sinks:null,sinksTail:null,equals:(C,Q)=>{if(C.length!==Q.length)return!1;for(let V=0;V<C.length;V++)if(C[V]!==Q[V])return!1;return!0},error:void 0};function j(){if(U.sources){if(U.flags)if(U.value=i(z),U.flags&y){if(U.flags=O,T(U),U.error)throw U.error}else U.flags=p}else if(U.sinks){if(T(U),U.error)throw U.error}else U.value=i(z)}let W=Array.from(i(()=>$.keys()));for(let C of W)H(C);B=W;let K={[Symbol.toStringTag]:e,[Symbol.isConcatSpreadable]:!0,*[Symbol.iterator](){for(let C of B){let Q=X.get(C);if(Q)yield Q}},get length(){if(D)A(U,D);return j(),B.length},keys(){if(D)A(U,D);return j(),B.values()},get(){if(D)A(U,D);return j(),U.value},at(C){return X.get(B[C])},byKey(C){return X.get(C)},keyAt(C){return B[C]},indexOfKey(C){return B.indexOf(C)},deriveCollection(C){return d$(K,C)}};return K}function FZ($,Z){let J=Z?.value??[];if(J.length)N(e,J,Array.isArray);k(e,$,V$);let X=new Map,B=[],H=new Map,[M,z]=jZ(Z?.keyConfig),q=(Q)=>H.get(Q)??(z?M(Q):void 0),U=Z?.createItem??f;function j(){let Q=[];for(let V of B)try{let G=X.get(V)?.get();if(G!=null)Q.push(G)}catch(G){if(!(G instanceof H$))throw G}return Q}let W={fn:j,value:J,flags:O,sources:null,sourcesTail:null,sinks:null,sinksTail:null,equals:BZ,error:void 0};for(let Q of J){let V=M(Q);X.set(V,U(Q)),H.set(Q,V),B.push(V)}W.value=J,W.flags=O;function K(){if(D){if(!W.sinks)W.stop=$((Q)=>{let{add:V,change:G,remove:P}=Q;if(!V?.length&&!G?.length&&!P?.length)return;let F=!1;o(()=>{if(V)for(let Y of V){let b=M(Y);if(X.set(b,U(Y)),H.set(Y,b),!B.includes(b))B.push(b);F=!0}if(G)for(let Y of G){let b=q(Y);if(!b)continue;let h=X.get(b);if(h&&D$(h))H.delete(h.get()),h.set(Y),H.set(Y,b)}if(P)for(let Y of P){let b=q(Y);if(!b)continue;H.delete(Y),X.delete(b);let h=B.indexOf(b);if(h!==-1)B.splice(h,1);F=!0}W.flags=O|(F?y:0);for(let Y=W.sinks;Y;Y=Y.nextSink)w(Y.sink)})});A(W,D)}}let C={[Symbol.toStringTag]:e,[Symbol.isConcatSpreadable]:!0,*[Symbol.iterator](){for(let Q of B){let V=X.get(Q);if(V)yield V}},get length(){return K(),B.length},keys(){return K(),B.values()},get(){if(K(),W.sources){if(W.flags){let Q=W.flags&y;if(W.value=i(j),Q){if(W.flags=O,T(W),W.error)throw W.error}else W.flags=p}}else if(T(W),W.error)throw W.error;return W.value},at(Q){return X.get(B[Q])},byKey(Q){return X.get(Q)},keyAt(Q){return B[Q]},indexOfKey(Q){return B.indexOf(Q)},deriveCollection(Q){return d$(C,Q)}};return C}function NZ($){return S($,e)}function _$($){k("Effect",$);let Z={fn:$,flags:O,sources:null,sourcesTail:null,cleanup:null},J=()=>{p$(Z),Z.fn=void 0,Z.flags=p,Z.sourcesTail=null,G$(Z)};if(c)q$(c,J);return WZ(Z),J}function YZ($,Z){if(!c)throw new h$("match");let{ok:J,err:X=console.error,nil:B}=Z,H,M=!1,z=Array($.length);for(let U=0;U<$.length;U++)try{z[U]=$[U].get()}catch(j){if(j instanceof H$){M=!0;continue}if(!H)H=[];H.push(j instanceof Error?j:Error(String(j)))}let q;try{if(M)q=B?.();else if(H)q=X(H);else q=J(z)}catch(U){X([U instanceof Error?U:Error(String(U))])}if(typeof q==="function")return q;if(q instanceof Promise){let U=c,j=new AbortController;q$(U,()=>j.abort()),q.then((W)=>{if(!j.signal.aborted&&typeof W==="function")q$(U,W)}).catch((W)=>{X([W instanceof Error?W:Error(String(W))])})}}function u$($,Z){if(k(a,$,V$),Z?.value!==void 0)N(a,Z.value,Z?.guard);let J={value:Z?.value,sinks:null,sinksTail:null,equals:Z?.equals??u,guard:Z?.guard,stop:void 0};return{[Symbol.toStringTag]:a,get(){if(D){if(!J.sinks)J.stop=$((X)=>{N(a,X,J.guard),R$(J,X)});A(J,D)}return K$(a,J.value),J.value}}}function xZ($){return S($,a)}function fZ($,Z){let J=_($)||Array.isArray($),X=_(Z)||Array.isArray(Z);if(!J||!X){let W=!Object.is($,Z);return{changed:W,add:W&&X?Z:{},change:{},remove:W&&J?$:{}}}let B=new WeakSet,H={},M={},z={},q=!1,U=Object.keys($),j=Object.keys(Z);for(let W of j)if(W in $){if(!J$($[W],Z[W],B))M[W]=Z[W],q=!0}else H[W]=Z[W],q=!0;for(let W of U)if(!(W in Z))z[W]=void 0,q=!0;return{add:H,change:M,remove:z,changed:q}}function T$($,Z){N($$,$,_);let J=new Map,X=(j,W)=>{if(N(`${$$} for key "${j}"`,W),Array.isArray(W))J.set(j,P$(W));else if(_(W))J.set(j,T$(W));else J.set(j,f(W))},B=()=>{let j={};return J.forEach((W,K)=>{j[K]=W.get()}),j},H={fn:B,value:$,flags:O,sources:null,sourcesTail:null,sinks:null,sinksTail:null,equals:J$,error:void 0},M=(j)=>{let W=!1;for(let K in j.add)X(K,j.add[K]),W=!0;if(Object.keys(j.change).length)o(()=>{for(let K in j.change){let C=j.change[K];N(`${$$} for key "${K}"`,C);let Q=J.get(K);if(Q)if(_(C)!==S$(Q))X(K,C),W=!0;else Q.set(C)}});for(let K in j.remove)J.delete(K),W=!0;if(W)H.flags|=y;return j.changed},z=Z?.watched,q=z?()=>{if(D){if(!H.sinks)H.stop=z();A(H,D)}}:()=>{if(D)A(H,D)};for(let j of Object.keys($))X(j,$[j]);let U={[Symbol.toStringTag]:$$,[Symbol.isConcatSpreadable]:!1,*[Symbol.iterator](){for(let j of Array.from(J.keys())){let W=J.get(j);if(W)yield[j,W]}},keys(){return q(),J.keys()},byKey(j){return J.get(j)},get(){if(q(),H.sources){if(H.flags){let j=H.flags&y;if(H.value=i(B),j){if(H.flags=O,T(H),H.error)throw H.error}else H.flags=p}}else if(T(H),H.error)throw H.error;return H.value},set(j){let W=H.flags&O?B():H.value,K=fZ(W,j);if(M(K)){H.flags|=O;for(let C=H.sinks;C;C=C.nextSink)w(C.sink);if(I===0)L()}},update(j){U.set(j(U.get()))},add(j,W){if(J.has(j))throw new z$($$,j,W);X(j,W),H.flags|=O|y;for(let K=H.sinks;K;K=K.nextSink)w(K.sink);if(I===0)L();return j},remove(j){if(J.delete(j)){H.flags|=O|y;for(let K=H.sinks;K;K=K.nextSink)w(K.sink);if(I===0)L()}}};return new Proxy(U,{get(j,W){if(W in j)return Reflect.get(j,W);if(typeof W!=="symbol")return j.byKey(W)},has(j,W){if(W in j)return!0;return j.byKey(String(W))!==void 0},ownKeys(j){return Array.from(j.keys())},getOwnPropertyDescriptor(j,W){if(W in j)return Reflect.getOwnPropertyDescriptor(j,W);if(typeof W==="symbol")return;let K=j.byKey(String(W));return K?{enumerable:!0,configurable:!0,writable:!0,value:K}:void 0}})}function S$($){return S($,$$)}function F$($,Z){return X$($)?O$($,Z):s($,Z)}function AZ($){if(M$($))return $;if($==null||x($)||d($))throw new C$("createMutableSignal",$);if(PZ($))return P$($);if(_($))return T$($);return f($)}function o$($){return B$($)||c$($)}function d($){let Z=[r,n,t,a,Z$,g,e,$$],J=Object.prototype.toString.call($).slice(8,-1);return Z.includes(J)}function M$($){return D$($)||S$($)||L$($)}function i$($,Z){N(Z$,$,d);let J=$,X=Z?.guard,B={fn:()=>J.get(),value:void 0,flags:O,sources:null,sourcesTail:null,sinks:null,sinksTail:null,equals:Z?.equals??u,error:void 0},H=()=>{if(D)A(B,D);if(T(B),B.error)throw B.error;return B.value},M=(q)=>{if(!M$(J))throw new f$(Z$);N(Z$,q,X),J.set(q)},z=(q)=>{N(Z$,q,d),J=q,B.flags|=O;for(let U=B.sinks;U;U=U.nextSink)w(U.sink);if(I===0)L()};return{[Symbol.toStringTag]:Z$,configurable:!0,enumerable:!0,get:H,set:M,replace:z,current:()=>J}}function N$($){return S($,Z$)}var W$=!1,hZ="debug";var Y$="warn",x$="error",kZ=new Set(["constructor","prototype"]),gZ=new Set(["id","class","className","title","role","style","dataset","lang","dir","hidden","children","innerHTML","outerHTML","textContent","innerText"]),pZ=($)=>$?`#${$}`:"",vZ=($)=>$?.length?`.${Array.from($).join(".")}`:"";var QZ=($)=>$.localName.includes("-"),zZ=($)=>QZ($)&&$.matches(":not(:defined)"),R=($)=>$?`<${$.localName}${pZ($.id)}${vZ($.classList)}>`:"<unknown>";var A$=($,Z,J=hZ)=>{if(W$||[x$,Y$].includes(J))console[J](Z,$);return $},IZ=($)=>{if(kZ.has($))return`Property name "${$}" is a reserved word`;if(gZ.has($))return`Property name "${$}" conflicts with inherited HTMLElement property`;return null};class s$ extends TypeError{constructor($){super(`Invalid component name "${$}". Custom element names must contain a hyphen, start with a lowercase letter, and contain only lowercase letters, numbers, and hyphens.`);this.name="InvalidComponentNameError"}}class l$ extends TypeError{constructor($,Z,J){super(`Invalid property name "${Z}" for component <${$}>. ${J}`);this.name="InvalidPropertyNameError"}}class r$ extends TypeError{constructor($,Z){super(`Invalid effects in component ${R($)}. Effects must be a record of effects for UI elements or the component, or a Promise that resolves to effects.`);if(this.name="InvalidEffectsError",Z)this.cause=Z}}class wZ extends TypeError{constructor($,Z,J){super(`Invalid UI key "${Z}" in ${J} of component ${R($)}`);this.name="InvalidUIKeyError"}}class b$ extends Error{constructor($,Z,J){super(`Missing required element <${Z}> in component ${R($)}. ${J}`);this.name="MissingElementError"}}class n$ extends Error{constructor($,Z){super(`Timeout waiting for: [${Z.join(", ")}] in component ${R($)}.`);this.name="DependencyTimeoutError"}}class t$ extends TypeError{constructor($,Z,J){super(`Expected reactives passed from ${R($)} to ${R(Z)} to be a record of signals, reactive property names or functions. Got ${l(J)}.`);this.name="InvalidReactivesError"}}class a$ extends TypeError{constructor($,Z){super(`Target ${R($)} is not a custom element in ${Z}.`);this.name="InvalidCustomElementError"}}var qZ=Symbol("RESET"),dZ=($,Z="")=>{return{a:"attribute ",c:"class ",d:"dataset ",h:"inner HTML",m:"method call ",p:"property ",s:"style property ",t:"text content"}[$]+Z},MZ=($,Z,J)=>{let X=[],B=(H)=>{let M=H($,Z);if(M)X.push(M)};if(Array.isArray(J))for(let H of J)B(H);else B(J);return()=>{X.forEach((H)=>H()),X.length=0}},cZ=($,Z,J)=>{let X=new Map,B=(z)=>{for(let q of z){let U=MZ($,q,J);if(U)X.set(q,U)}},H=(z)=>{for(let q of z)X.get(q)?.(),X.delete(q)},M=_$(()=>{let z=new Set(Z.get()),q=[],U=[];for(let j of z)if(!X.has(j))q.push(j);for(let j of X.keys())if(!z.has(j))U.push(j);B(q),H(U)});return()=>{for(let z of X.values())z();X.clear(),M()}},UZ=($,Z)=>{if(!_(Z))throw new r$($.host);let J=[],X=Object.keys(Z);for(let B of X){let H=B;if(!Z[H])continue;let M=Array.isArray(Z[H])?Z[H]:[Z[H]];if(B$($[H]))J.push(cZ($.host,$[H],M));else if($[H]){let z=MZ($.host,$[H],M);if(z)J.push(z)}}return()=>{for(let B of J)B();J.length=0}},uZ=($,Z,J,X)=>{try{return typeof $==="string"?Z[$]:d($)?$.get():x($)?$(J):qZ}catch(B){if(X)A$(B,`Failed to resolve value of ${l($)}${X?` for ${X}`:""} in ${R(J)}${Z!==J?` in ${R(Z)}`:""}`,x$);return qZ}},m=($,Z)=>(J,X)=>{let{op:B,name:H="",read:M,update:z}=Z,q=dZ(B,H),U=(K)=>()=>{if(W$&&J.debug)A$(X,`${K} ${q} of ${R(X)} in ${R(J)}`);Z.resolve?.(X)},j=(K)=>(C)=>{A$(C,`Failed to ${K} ${q} of ${R(X)} in ${R(J)}`,x$),Z.reject?.(C)},W=M(X);return _$(()=>{let K=uZ($,J,X,q),C=K===qZ?W:K===null?Z.delete?null:W:K;if(Z.delete&&C===null)try{Z.delete(X),U("delete")()}catch(Q){j("delete")(Q)}else if(C!=null){let Q=M(X);if(Object.is(C,Q))return;try{z(X,C),U("update")()}catch(V){j("update")(V)}}})};var RZ=new WeakMap,y$=($)=>{let Z=RZ.get($);if(!Z)Z={},RZ.set($,Z);return Z};var I$=($)=>x($)&&$.length>=2,oZ=($)=>x($),E=($,Z)=>oZ(Z)?Z($):Z,iZ=($,Z)=>(J)=>{let X=$(J);return typeof X==="string"&&I$(Z)?Z(J,X):X??E(J,Z)};var sZ=200,lZ=($)=>{let Z=new Set;if($.includes("."))Z.add("class");if($.includes("#"))Z.add("id");if($.includes("[")){let J=$.split("[");for(let X=1;X<J.length;X++){let B=J[X];if(!B.includes("]"))continue;let H=B.split("=")[0].trim().replace(/[^a-zA-Z0-9_-]/g,"");if(H)Z.add(H)}}return[...Z]};function LZ($,Z){return s(()=>Array.from($.querySelectorAll(Z)),{value:[],watched:(J)=>{let X={childList:!0,subtree:!0},B=lZ(Z);if(B.length)X.attributes=!0,X.attributeFilter=B;let H=new MutationObserver(()=>J());return H.observe($,X),()=>H.disconnect()}})}var _Z=($)=>{let Z=$.shadowRoot??$,J=new Set;function X(M,z){let q=Z.querySelector(M);if(z!=null&&!q)throw new b$($,M,z);if(q&&zZ(q))J.add(q.localName);return q??void 0}function B(M,z){let q=LZ(Z,M),U=q.get();if(z!=null&&!U.length)throw new b$($,M,z);if(U.length){for(let j of U)if(zZ(j))J.add(j.localName)}return q}return[{first:X,all:B},(M)=>{if(J.size)queueMicrotask(()=>{let z=Array.from(J).filter((q)=>!customElements.get(q));if(!z.length){M();return}Promise.race([Promise.all(z.map((q)=>customElements.whenDefined(q))),new Promise((q,U)=>{setTimeout(()=>{U(new n$($,z.filter((j)=>!customElements.get(j))))},sZ)})]).then(M).catch((q)=>{if(W$)console[Y$](q);M()})});else M()}]};function rZ($,Z={},J=()=>({}),X=()=>({})){if(!$.includes("-")||!$.match(/^[a-z][a-z0-9-]*$/))throw new s$($);for(let H of Object.keys(Z)){let M=IZ(H);if(M)throw new l$($,H,M)}class B extends HTMLElement{debug;#$;#Z;static observedAttributes=Object.entries(Z)?.filter(([,H])=>I$(H)).map(([H])=>H)??[];connectedCallback(){let[H,M]=_Z(this),z={...J(H),host:this};this.#$=z,Object.freeze(this.#$);let q=(j)=>{return x(j)},U=(j,W)=>{let K=I$(W)?W(z,this.getAttribute(j)):q(W)?W(z):W;if(K!=null)this.#J(j,K)};for(let[j,W]of Object.entries(Z)){if(W==null||j in this)continue;U(j,W)}M(()=>{this.#Z=UZ(z,X(z))})}disconnectedCallback(){if(x(this.#Z))this.#Z()}attributeChangedCallback(H,M,z){if(!this.#$||z===M||o$(y$(this)[H]))return;let q=Z[H];if(!I$(q))return;let U=q(this.#$,z,M);if(H in this)this[H]=U;else this.#J(H,U)}#J(H,M){let z=d(M)?M:x(M)?F$(M):f(M),q=y$(this),U=H,j=q[U];if(N$(j))j.replace(z);else if(M$(z)){let W=i$(z);q[U]=W,Object.defineProperty(this,H,W)}else q[U]=z,Object.defineProperty(this,H,{get:z.get,enumerable:!0})}}return customElements.define($,B),customElements.get($)}var e$="context-request";class VZ extends Event{context;callback;subscribe;constructor($,Z,J=!1){super(e$,{bubbles:!0,composed:!0});this.context=$,this.callback=Z,this.subscribe=J}}var nZ=($)=>(Z)=>{let J=(X)=>{let{context:B,callback:H}=X;if(typeof B==="string"&&$.includes(B)&&x(H))X.stopImmediatePropagation(),H(()=>Z[B])};return Z.addEventListener(e$,J),()=>Z.removeEventListener(e$,J)},tZ=($,Z)=>(J)=>{let X=()=>E(J,Z);return J.host.dispatchEvent(new VZ($,(B)=>{X=B})),s(X)};var aZ=($)=>{if(/^(mailto|tel):/i.test($))return!0;if($.includes("://"))try{let Z=new URL($,window.location.origin);return["http:","https:","ftp:"].includes(Z.protocol)}catch{return!1}return!0},eZ=($,Z,J)=>{if(/^on/i.test(Z))throw Error(`Unsafe attribute: ${Z}`);if(J=String(J).trim(),!aZ(J))throw Error(`Unsafe URL for ${Z}: ${J}`);$.setAttribute(Z,J)},$6=($,Z=$)=>m(Z,{op:"a",name:$,read:(J)=>J.getAttribute($),update:(J,X)=>{eZ(J,$,X)},delete:(J)=>{J.removeAttribute($)}}),Z6=($,Z=$)=>m(Z,{op:"a",name:$,read:(J)=>J.hasAttribute($),update:(J,X)=>{J.toggleAttribute($,X)}});var J6=($,Z=$)=>m(Z,{op:"c",name:$,read:(J)=>J.classList.contains($),update:(J,X)=>{J.classList.toggle($,X)}});var ZZ=new Set(["scroll","resize","mousewheel","touchstart","touchmove","wheel"]),CZ=new Set,TZ=new WeakMap,$Z,X6=()=>{$Z=void 0;let $=Array.from(CZ);CZ.clear();for(let Z of $)TZ.get(Z)?.()},H6=()=>{if($Z)cancelAnimationFrame($Z);$Z=requestAnimationFrame(X6)},U$=($,Z)=>{TZ.set($,Z),CZ.add($),H6()};var B6=($,Z,J={})=>(X,B)=>{if(!("passive"in J))J={...J,passive:ZZ.has($)};let H=(M)=>{let z=()=>{let q=Z(M);if(!_(q))return;o(()=>{for(let[U,j]of Object.entries(q))try{X[U]=j}catch(W){A$(W,`Reactive property "${U}" on ${R(X)} from event ${$} on ${R(B)} could not be set, because it is read-only.`,x$)}})};if(J.passive)U$(B,z);else z()};return B.addEventListener($,H,J),()=>B.removeEventListener($,H)};var W6=($,Z={})=>m($,{op:"h",read:(J)=>(J.shadowRoot||!Z.shadowRootMode?J:null)?.innerHTML??"",update:(J,X)=>{let{shadowRootMode:B,allowScripts:H}=Z;if(!X){if(J.shadowRoot)J.shadowRoot.innerHTML="<slot></slot>";return""}if(B&&!J.shadowRoot)J.attachShadow({mode:B});let M=J.shadowRoot||J;return U$(J,()=>{if(M.innerHTML=X,H){let z=["type","src","async","defer","nomodule","crossorigin","integrity","referrerpolicy","fetchpriority"];M.querySelectorAll("script").forEach((q)=>{let U=document.createElement("script");for(let j of z)if(q.hasAttribute(j))U.setAttribute(j,q.getAttribute(j));if(!q.hasAttribute("src"))U.appendChild(document.createTextNode(q.textContent??""));M.appendChild(U),q.remove()})}}),H?" with scripts":""}});var j6=($)=>(Z,J)=>{if(!QZ(J))throw new a$(J,`pass from ${R(Z)}`);let X=x($)?$(J):$;if(!_(X))throw new t$(Z,J,X);let B=(z)=>{if(d(z))return z;let q=typeof z==="string"&&z in Z?()=>Z[z]:x(z)?z:void 0;return q?F$(q):void 0},H=y$(J),M=R(J);for(let[z,q]of Object.entries(X)){if(q==null)continue;if(!(z in J)){if(W$)console[Y$](`pass(): property '${z}' does not exist on ${M}`);continue}let U=x(q)&&q.length===1?q(J):q,j=Array.isArray(U)&&U.length===2,W=B(j?U[0]:U);if(!W)continue;let K=H[z];if(N$(K))K.replace(W);else if(W$)console[Y$](`pass(): property '${z}' on ${M} has no Slot â€” binding skipped`)}};var Q6=($,Z=$)=>m(Z,{op:"p",name:$,read:(J)=>($ in J)?J[$]??null:null,update:(J,X)=>{J[$]=X}}),z6=($)=>m($,{op:"p",name:"hidden",read:(Z)=>!Z.hidden,update:(Z,J)=>{Z.hidden=!J}});var q6=($,Z=$)=>m(Z,{op:"s",name:$,read:(J)=>J.style.getPropertyValue($),update:(J,X)=>{J.style.setProperty($,X)},delete:(J)=>{J.style.removeProperty($)}});var M6=($)=>m($,{op:"t",read:(Z)=>Z.textContent,update:(Z,J)=>{Array.from(Z.childNodes).filter((X)=>X.nodeType!==Node.COMMENT_NODE).forEach((X)=>X.remove()),Z.append(document.createTextNode(J))}});var U6=($,Z,J)=>(X)=>{let{host:B}=X,H=E(X,$),M=B$(X[Z])?X[Z]:null,z=M?null:X[Z],q=new Map,U=(j)=>{if(z)return z.contains(j)?z:void 0;for(let W of M.get())if(W.contains(j))return W};return u$((j)=>{for(let[W,K]of Object.entries(J)){let C={passive:ZZ.has(W)},Q=(V)=>{let G=V.target;if(!G)return;let P=U(G);if(!P)return;V.stopPropagation();let F=()=>{try{let Y=K({event:V,ui:X,target:P,prev:H});if(Y==null||Y instanceof Promise)return;if(!Object.is(Y,H))H=Y,j(Y)}catch(Y){throw V.stopImmediatePropagation(),Y}};if(C.passive)U$(B,F);else F()};q.set(W,Q),B.addEventListener(W,Q,C)}return()=>{if(q.size){for(let[W,K]of q)B.removeEventListener(W,K);q.clear()}}},{value:H})};var V6=()=>($,Z)=>Z!=null&&Z!=="false";var C6=($)=>(Z,J)=>{if((J??$)==null)throw TypeError("asJSON: Value and fallback are both null or undefined");if(J==null)return E(Z,$);if(J==="")throw TypeError("Empty string is not valid JSON");let X;try{X=JSON.parse(J)}catch(B){throw SyntaxError(`Failed to parse JSON: ${String(B)}`,{cause:B})}return X??E(Z,$)};var KZ=($,Z)=>{if(Z==null)return;let J=$(Z);return Number.isFinite(J)?J:void 0},K6=($=0)=>(Z,J)=>{if(J==null)return E(Z,$);let X=J.trim();if(X.toLowerCase().startsWith("0x"))return KZ((H)=>parseInt(H,16),X)??E(Z,$);let B=KZ(parseFloat,J);return B!=null?Math.trunc(B):E(Z,$)},G6=($=0)=>(Z,J)=>KZ(parseFloat,J)??E(Z,$);var D6=($="")=>(Z,J)=>J??E(Z,$),P6=($)=>(Z,J)=>{if(J==null)return $[0];let X=J.toLowerCase();return $.find((H)=>H.toLowerCase()===X)?J:$[0]};export{l as valueString,m as updateElement,J6 as toggleClass,Z6 as toggleAttribute,z6 as show,M6 as setText,q6 as setStyle,Q6 as setProperty,$6 as setAttribute,U$ as schedule,MZ as runElementEffects,UZ as runEffects,tZ as requestContext,iZ as read,nZ as provideContexts,j6 as pass,B6 as on,YZ as match,c$ as isTask,S$ as isStore,D$ as isState,N$ as isSlot,d as isSignal,xZ as isSensor,_ as isRecord,I$ as isParser,M$ as isMutableSignal,B$ as isMemo,L$ as isList,x as isFunction,J$ as isEqual,o$ as isComputed,NZ as isCollection,X$ as isAsyncFunction,rZ as defineComponent,W6 as dangerouslySetInnerHTML,O$ as createTask,T$ as createStore,f as createState,i$ as createSlot,u$ as createSensor,OZ as createScope,AZ as createMutableSignal,s as createMemo,P$ as createList,U6 as createEventsSensor,LZ as createElementsMemo,_$ as createEffect,F$ as createComputed,FZ as createCollection,o as batch,D6 as asString,G6 as asNumber,C6 as asJSON,K6 as asInteger,P6 as asEnum,V6 as asBoolean,m$ as NullishSignalValueError,b$ as MissingElementError,wZ as InvalidUIKeyError,C$ as InvalidSignalValueError,t$ as InvalidReactivesError,l$ as InvalidPropertyNameError,r$ as InvalidEffectsError,a$ as InvalidCustomElementError,s$ as InvalidComponentNameError,E$ as InvalidCallbackError,n$ as DependencyTimeoutError,VZ as ContextRequestEvent,Q$ as CircularDependencyError,e$ as CONTEXT_REQUEST};

//# debugId=B1CFB08298AF897A64756E2164756E21
